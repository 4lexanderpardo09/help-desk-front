---
sidebar_position: 2
---

# Roles y Permisos

## Objetivo
Comprender el sistema de roles y permisos del sistema.

## Roles Disponibles

### ğŸ”´ Super Admin

**DescripciÃ³n**: Administrador con acceso completo al sistema.

**Permisos**:
- âœ… GestiÃ³n completa de usuarios
- âœ… ConfiguraciÃ³n de workflows
- âœ… GestiÃ³n de categorÃ­as y subcategorÃ­as
- âœ… ConfiguraciÃ³n de departamentos
- âœ… Ver todos los tickets del sistema
- âœ… Asignar y reasignar tickets
- âœ… Configurar permisos personalizados

**Vistas de Tickets**:
- Todos los Tickets
- Creados por mÃ­
- Asignados a mÃ­
- Observados

### ğŸŸ¡ Agente

**DescripciÃ³n**: Personal de soporte que resuelve tickets.

**Permisos**:
- âœ… Ver tickets asignados
- âœ… Ver tickets creados por ellos
- âœ… Actualizar estado de tickets
- âœ… Agregar comentarios y archivos
- âœ… Crear nuevos tickets
- âŒ Gestionar usuarios
- âŒ Ver todos los tickets
- âŒ Configurar workflows

**Vistas de Tickets**:
- Creados por mÃ­
- Asignados a mÃ­
- Observados

### ğŸŸ¢ Usuario

**DescripciÃ³n**: Usuario final que crea solicitudes de soporte.

**Permisos**:
- âœ… Crear tickets
- âœ… Ver sus propios tickets
- âœ… Agregar comentarios a sus tickets
- âœ… Adjuntar archivos
- âŒ Ver tickets de otros usuarios
- âŒ Cambiar estado de tickets
- âŒ Asignar tickets

**Vistas de Tickets**:
- Creados por mÃ­

## Permisos EspecÃ­ficos

El sistema usa permisos granulares para controlar el acceso:

### Permisos de Vista

| Permiso | DescripciÃ³n | Roles |
|---------|-------------|-------|
| `view:all` | Ver todos los tickets | Super Admin |
| `view:assigned` | Ver tickets asignados | Agente, Admin |
| `view:created` | Ver tickets creados | Usuario, Agente, Admin |
| `view:observed` | Ver tickets observados | Usuario, Agente, Admin |

### Permisos de AcciÃ³n

| Permiso | DescripciÃ³n | Roles |
|---------|-------------|-------|
| `create` | Crear tickets | Todos |
| `update` | Actualizar tickets | Agente, Admin |
| `delete` | Eliminar tickets | Admin |
| `manage` | GestiÃ³n completa | Admin |

## AsignaciÃ³n de Permisos

:::info Solo Administradores
La asignaciÃ³n de permisos solo puede ser realizada por Super Admins.
:::

Los permisos se asignan a nivel de **rol**, no de usuario individual. Esto significa:

- Todos los usuarios con el mismo rol tienen los mismos permisos
- Cambiar el rol de un usuario cambia inmediatamente sus permisos
- Los permisos se verifican en cada acciÃ³n del sistema

## Cambiar el Rol de un Usuario

1. Navega a **Usuarios**
2. Haz clic en editar el usuario
3. Selecciona el nuevo rol
4. Guarda los cambios

:::warning Importante
El cambio de rol es inmediato. El usuario verÃ¡ las nuevas opciones al recargar la pÃ¡gina.
:::

## Observadores de Workflow

AdemÃ¡s de los roles, los usuarios pueden ser **observadores** de flujos de trabajo especÃ­ficos:

- Los observadores ven todos los tickets de ese flujo
- Se configura a nivel de workflow, no de usuario
- Es independiente del rol del usuario

## Seguridad

El sistema implementa mÃºltiples capas de seguridad:

### Backend
- ValidaciÃ³n de permisos en cada endpoint
- Tokens JWT con informaciÃ³n de rol
- VerificaciÃ³n de permisos antes de retornar datos

### Frontend
- OcultaciÃ³n de opciones sin permiso
- ValidaciÃ³n adicional antes de enviar peticiones
- RedirecciÃ³n automÃ¡tica si falta permiso

## PrÃ³ximos Pasos

- [Gestionar usuarios](./gestionar-usuarios.mdx)
